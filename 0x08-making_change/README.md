Solved it using dynamic programming
